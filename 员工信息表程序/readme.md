Day3作业

本节作业

有以下员工信息表
1,姬建明,25,15201541043,运维,2013-11-01
2,刘海龙,26,18618416677,运维,2012-12-25
3,闫培飞,25,15701316802,IT,2015-10-14
4,孙海涛,33,15811206312,IT,2005-09-27
5,张亚磊,24,13733208110,IT,2014-06-23
6,张松,26,13683177094,IT,2013-10-08
7,刘文剑,25,18655550213,SA,2014-05-21
8,魏曼,18,18910358670,运维,2014-05-21
9,宋晓楠,18,18710168082,测试,2014-05-21
10,吴东杭,21,17710890829,运维,1995-08-29
11,李静,18,18612701190,销售,2015-08-20
12,文鑫,23,18180542910,无,2016-7-31
13,于洪林,26,13381232639,运维,2013-6-24
14,王新凯,22,15369965127,运维,2015-10-31
15,盖爽,18,18500376309,运维,2015-10-28
16,张振兴,27,13521954320,运维,2015-10-28
17,侯梓煜,21,18611819511,运维,2016-10-31
18,张玉新,27,15901241184,运维,2015-10-28
19,纪冠宇,24,15011379443,运维,2015-11-12
20,李乾龙,24,18510085376,运维,2015-7-13
21,张杨,21,18813001922,运维,2015-1-1
22,张泽伟,27,15801029861,运维,2011-2-13
23,翟超群,24,13120378203,运维,2013-3-1
24,alex,18,13120378203,运维,2013-3-1
25,tianyan,23,18602552454,运维,2017-8-1
26,tianmao,23,18602552453,运维,2017-8-1


当然此表你在文件存储时可以这样表示

    1,Alex Li,22,13651054608,IT,2013-04-01
    现需要对这个员工信息文件，实现增删改查操作

    可进行模糊查询，语法至少支持下面3种:
　　  select name,age from db1.emp where age > 22
　　  select  * from db1.emp where dept = "IT"
      select  * from db1.emp where enroll_date like "2013"
      查到的信息，打印后，最后面还要显示查到的条数
      可创建新员工纪录，以phone做唯一键，id需自增
      可删除指定员工信息纪录，输入员工id，即可删除
      可修改员工信息，语法如下:
　　  update db1.emp set dept="Market" where dept = "IT"

博客地址:
http://www.cnblogs.com/lixiang1013/p/6817089.html

实现简单的shell sed替换功能

1. 程序说明
    实现表格数据的增删该查功能

2. 测试用例
    select * from db1.emp
    select * from db1.emp where id>5 and id<10 limit 2
    select * from db1.emp where name like 李
    select * from db1.emp where name like '李'
    select * from db1.emp where name like "李"
    select id,name,phone from db1.emp where id>5 and id<10 limit 2
    insert into db1.emp values shisanjun,30,18602552454,运维,2017-8-1
    insert into db1.emp values "shisanjun,30,18602552453,运维,2017-8-1"
    update db1.emp set name="tianyan",age="23" where id>24
    update db1.emp set name="tianyan",age="23" where id>50
    update db1.emp set name=tianmao,age=23 where id>25
    delete from db1.emp where id=25

3. 程序测试
python python_sql.py

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
表名为：db1.exp，查询字段为：id,name,age,phone,dept,enroll_date
sql> select * from db1.emp
1,姬建明,25,15201541043,运维,2013-11-01
2,刘海龙,26,18618416677,运维,2012-12-25
3,闫培飞,25,15701316802,IT,2015-10-14
4,孙海涛,33,15811206312,IT,2005-09-27
5,张亚磊,24,13733208110,IT,2014-06-23
6,张松,26,13683177094,IT,2013-10-08
7,刘文剑,25,18655550213,SA,2014-05-21
8,魏曼,18,18910358670,运维,2014-05-21
9,宋晓楠,18,18710168082,测试,2014-05-21
10,吴东杭,21,17710890829,运维,1995-08-29
11,李静,18,18612701190,销售,2015-08-20
12,文鑫,23,18180542910,无,2016-7-31
13,于洪林,26,13381232639,运维,2013-6-24
14,王新凯,22,15369965127,运维,2015-10-31
15,盖爽,18,18500376309,运维,2015-10-28
16,张振兴,27,13521954320,运维,2015-10-28
17,侯梓煜,21,18611819511,运维,2016-10-31
18,张玉新,27,15901241184,运维,2015-10-28
19,纪冠宇,24,15011379443,运维,2015-11-12
20,李乾龙,24,18510085376,运维,2015-7-13
21,张杨,21,18813001922,运维,2015-1-1
22,张泽伟,27,15801029861,运维,2011-2-13
23,翟超群,24,13120378203,运维,2013-3-1
24,alex,18,13120378203,运维,2013-3-1

共计查询出24条数据
sql> select * from db1.emp where id>5 and id<10 limit 2
6,张松,26,13683177094,IT,2013-10-08
7,刘文剑,25,18655550213,SA,2014-05-21

共计查询出2条数据
sql> select * from db1.emp where name like 李
11,李静,18,18612701190,销售,2015-08-20
20,李乾龙,24,18510085376,运维,2015-7-13

共计查询出2条数据
sql> select * from db1.emp where name like '李'
11,李静,18,18612701190,销售,2015-08-20
20,李乾龙,24,18510085376,运维,2015-7-13

共计查询出2条数据
sql> select * from db1.emp where name like "李"
11,李静,18,18612701190,销售,2015-08-20
20,李乾龙,24,18510085376,运维,2015-7-13

共计查询出2条数据
sql> select id,name,phone from db1.emp where id>5 and id<10 limit 2
6,张松,13683177094
7,刘文剑,18655550213

共计查询出2条数据
sql> insert into db1.emp values shisanjun,30,18602552454,运维,2017-8-1
25,shisanjun,30,18602552454,运维,2017-8-1
插入成功
sql> insert into db1.emp values shisanjun,30,18602552454,运维,2017-8-1
你的手机号18602552454已存在，更换其他手机号!
sql> insert into db1.emp values "shisanjun,30,18602552454,运维,2017-8-1"
你的手机号18602552454已存在，更换其他手机号!
sql> insert into db1.emp values "shisanjun,30,18602552453,运维,2017-8-1"
26,shisanjun,30,18602552453,运维,2017-8-1
插入成功
sql> update db1.emp set name="tianyan",age="23" where id>24
共计修改2条数
sql> update db1.emp set name="tianyan",age="23" where id>50
要修改的记录不存在！
sql> update db1.emp set name=tianmao,age=23 where id>25
共计修改1条数
sql> delete from db1.emp where id=25
共计删除1条数据
sql>
Process finished with exit code -1


修改成功后的表显示
1,姬建明,25,15201541043,运维,2013-11-01
2,刘海龙,26,18618416677,运维,2012-12-25
3,闫培飞,25,15701316802,IT,2015-10-14
4,孙海涛,33,15811206312,IT,2005-09-27
5,张亚磊,24,13733208110,IT,2014-06-23
6,张松,26,13683177094,IT,2013-10-08
7,刘文剑,25,18655550213,SA,2014-05-21
8,魏曼,18,18910358670,运维,2014-05-21
9,宋晓楠,18,18710168082,测试,2014-05-21
10,吴东杭,21,17710890829,运维,1995-08-29
11,李静,18,18612701190,销售,2015-08-20
12,文鑫,23,18180542910,无,2016-7-31
13,于洪林,26,13381232639,运维,2013-6-24
14,王新凯,22,15369965127,运维,2015-10-31
15,盖爽,18,18500376309,运维,2015-10-28
16,张振兴,27,13521954320,运维,2015-10-28
17,侯梓煜,21,18611819511,运维,2016-10-31
18,张玉新,27,15901241184,运维,2015-10-28
19,纪冠宇,24,15011379443,运维,2015-11-12
20,李乾龙,24,18510085376,运维,2015-7-13
21,张杨,21,18813001922,运维,2015-1-1
22,张泽伟,27,15801029861,运维,2011-2-13
23,翟超群,24,13120378203,运维,2013-3-1
24,alex,18,13120378203,运维,2013-3-1
25,tianyan,23,18602552454,运维,2017-8-1
26,tianmao,23,18602552453,运维,2017-8-1